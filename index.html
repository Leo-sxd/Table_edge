<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta name="msvalidate.01" content="C48BE0F8A13E763DD4C338229FC520B5" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简约多功能面板</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 整合后的样式文件 -->
    <link rel="stylesheet" href="/Table_edge/style.css">
<!-- 高德地图API - 使用JS API Loader加载 -->
<script type="text/javascript">
    window._AMapSecurityConfig = {
        securityJsCode: "8fd12b82c18d08935bd8d829dcdb9135",
    };
</script>
<script src="https://webapi.amap.com/loader.js"></script>
<base target="_blank">
</head>
<body>
    <!-- 设置按钮 -->
    <div class="settings-container">
        <button class="settings-btn" id="settings-btn" title="背景设置">
            <i class="fas fa-plus"></i>
        </button>
        <div class="settings-panel" id="settings-panel">
            <div class="settings-header">
                <h3>背景设置</h3>
                <button class="close-settings" id="close-settings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="settings-content">
                <div class="bg-options-panel">
                    <div class="bg-option-item" data-bg="nature1">
                        <div class="bg-preview nature1-preview"></div>
                        <span>自然风景1</span>
                    </div>
                    <div class="bg-option-item" data-bg="nature2">
                        <div class="bg-preview nature2-preview"></div>
                        <span>自然风景2</span>
                    </div>
                    <div class="bg-option-item" data-bg="nature3">
                        <div class="bg-preview nature3-preview"></div>
                        <span>自然风景3</span>
                    </div>
                    <div class="bg-option-item" data-bg="custom" id="custom-bg-btn">
                        <div class="bg-preview custom-preview">
                            <i class="fas fa-upload"></i>
                        </div>
                        <span>自定义上传</span>
                    </div>
                </div>
                <input type="file" id="bg-upload" accept="image/*" style="display: none;">
            </div>
        </div>
    </div>
    

    <!-- 主容器 -->
    <div class="container">
        <!-- 头部时间显示区域 -->
        <header class="header">
            <div class="date-time">
                <h1 id="current-time">00:00:00</h1>
                <p id="current-date">0000年1月1日 星期一</p>
                <p id="current-location" class="location-info">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="location-text">正在获取位置...</span>
                </p>
            </div>
            
            <!-- 自定义诗句模块 -->
            <div class="poem-section">
                <div class="poem-display" id="poem-display">
                    <p class="poem-text" id="poem-text">点击编辑您的专属诗句...</p>
                </div>
                <div class="poem-input-area" id="poem-input-area" style="display: none;">
                    <textarea id="poem-input" placeholder="请输入您的诗句..." maxlength="100"></textarea>
                    <div class="poem-actions">
                        <button id="poem-submit" class="poem-btn">保存</button>
                        <button id="poem-cancel" class="poem-btn cancel">取消</button>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="weather-info">
                    <div class="weather-icon">
                        <i id="weather-icon" class="fas fa-sun"></i>
                    </div>
                    <div class="weather-details">
                        <span id="temperature" class="temp">--°C</span>
                        <span id="weather-description" class="weather-desc">--</span>
                        <span id="city-name" class="location">位置未获取</span>
                        <span id="district-name" class="district">--</span>
                    </div>
                </div>
                <!-- 跳转按钮 -->
                <a href="https://leo-sxd.github.io/favorite_file.github.io/" target="_blank" class="jump-btn" title="跳转到收藏网站">
                    <i class="fas fa-external-link-alt"></i>
                    <span>收藏网站</span>
                </a>
            </div>
        </header>
        
        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 左侧：待办事项 -->
            <section class="todo-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> 待办事项</h2>
                    <button id="add-todo-btn" class="add-btn" title="添加待办事项">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="todo-container">
                    <!-- 待办事项输入区域 -->
                    <div class="todo-input-area" id="todo-input-area">
                        <div class="todo-form">
                            <input type="text" id="todo-input" placeholder="添加新的待办事项...">
                            <div class="time-selection">
                                <div class="time-input-group">
                                    <label for="start-time"><i class="far fa-clock"></i> 开始时间</label>
                                    <input type="datetime-local" id="start-time">
                                </div>
                                <div class="time-input-group">
                                    <label for="end-time"><i class="fas fa-flag-checkered"></i> 截止时间</label>
                                    <input type="datetime-local" id="end-time">
                                </div>
                            </div>
                            <div class="todo-form-buttons">
                                <button id="todo-submit" class="submit-btn">添加</button>
                                <button id="todo-cancel" class="cancel-btn">取消</button>
                            </div>
                        </div>
                    </div>
                    <div class="todo-filter">
                        <button class="filter-btn active" data-filter="all">全部 (0)</button>
                        <button class="filter-btn" data-filter="pending">未完成(0)</button>
                        <button class="filter-btn" data-filter="completed">已完成(0)</button>
                        <button class="filter-btn" data-filter="urgent">紧急(0)</button>
                    </div>
                    <ul id="todo-list">
                        <!-- 待办事项将通过JS动态添加 -->
                    </ul>
                </div>
            </section>
            
            <!-- 中间：地图区域 -->
            <section class="map-section">
                <div class="section-header">
                    <h2><i class="fas fa-map-marked-alt"></i> 高德地图</h2>
                    <div class="map-controls">
                        <button id="locate-me" class="map-btn" title="定位我的位置">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button id="traffic-toggle" class="map-btn" title="实时路况">
                            <i class="fas fa-car"></i>
                        </button>
                    </div>
                </div>
                <div class="map-container">
                    <div id="map"></div>
                    <div class="map-search-box">
                        <input type="text" id="map-search-input" placeholder="搜索地点...">
                        <button id="map-search-btn"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </section>
            
            <!-- 右侧：智能助手 -->
            <section class="assistant-section">
                <div class="section-header">
                    <h2><i class="fas fa-robot"></i> DeepSeek</h2>
                    <div class="assistant-status">
                        <span class="status-dot" id="assistant-status-dot"></span>
                        <span class="status-text" id="assistant-status-text">离线</span>
                    </div>
                </div>
                <div class="assistant-container">
                    <!-- API密钥输入区域 -->
                    <div class="api-key-section">
                        <div class="api-input-group">
                            <input type="password" id="deepseek-api-key" placeholder="输入Deepseek API密钥" value="">
                            <button id="save-api-key" class="small-btn">保存</button>
                        </div>
                        <div class="api-hint">
                            <small>密钥仅保存在本地，请前往 <a href="https://platform.deepseek.com/" target="_blank">Deepseek官网</a> 获取</small>
                        </div>
                    </div>
                    
                    <div class="assistant-messages" id="assistant-messages">
                        <div class="message assistant-message">
                            <div class="avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="content">
                                <p>您好！我是Deepseek AI助手，请输入API密钥开始对话。</p>
                            </div>
                        </div>
                    </div>
                    <div class="assistant-input-area">
                        <input type="text" id="assistant-input" placeholder="输入您的问题...">
                        <button id="assistant-send" class="send-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </section>
        </main>
        
<!-- Bing搜索引擎面板 -->
        <section class="bing-section">
            <div class="section-header">
                <h2><i class="fab fa-microsoft"></i> Bing 搜索</h2>
            </div>
            <div class="bing-container">
                <iframe src="https://www.bing.com/search?q=Bing搜索" width="100%" height="500"></iframe>
            </div>
        </section>
        
        <!-- 底部状态栏 -->
        <footer class="footer">
            <p>简约多功能面板 &copy; 2026 | 最后更新 <span id="last-update-time"></span></p>
        </footer>
    </div>
    
        <!-- 移动端/电脑版视图切换按钮 -->
    <div class="view-switch-container" id="view-switch-container">
        <button class="view-switch-btn" id="view-switch-btn" title="切换视图模式">
            <i class="fas fa-desktop"></i>
            <span>电脑版</span>
        </button>
    </div>
    
    <!-- 整合后的JavaScript文件 -->
    <script src="/Table_edge/script.js"></script>
</body>
</html>