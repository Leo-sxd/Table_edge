<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta name="msvalidate.01" content="C48BE0F8A13E763DD4C338229FC520B5" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简约多功能面板</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 整合后的样式文件 -->
    <link rel="stylesheet" href="/Table_edge/style.css">
<!-- 高德地图API - 使用JS API Loader加载 -->
<script type="text/javascript">
    window._AMapSecurityConfig = {
        securityJsCode: "8fd12b82c18d08935bd8d829dcdb9135",
    };
</script>
<script src="https://webapi.amap.com/loader.js"></script>
<base target="_blank">
<!-- 中文字体支持 -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap" rel="stylesheet">
<style>
    /* 强制诗句使用宋体 */
    .poem-text,
    #poem-text {
        font-family: SimSun, "宋体", "STSong", serif !important;
    }
    #poem-input {
        font-family: SimSun, "宋体", "STSong", serif !important;
    }
</style>
</head>
<body>
    <!-- 设置按钮 -->
    <div class="settings-container">
        <button class="settings-btn" id="settings-btn" title="设置">
            <i class="fas fa-cog"></i>
        </button>
    </div>
    
    <!-- 全屏设置模态框 -->
    <div class="settings-modal-overlay" id="settings-modal-overlay">
        <div class="settings-modal" id="settings-modal">
            <div class="settings-modal-header">
                <h2>背景特效设置</h2>
                <button class="close-settings" id="close-settings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="settings-modal-content">
                <!-- 背景图片选择 -->
                <div class="settings-section">
                    <h4>背景图片</h4>
                    <div class="bg-options-panel">
                        <div class="bg-option-item" data-bg="nature1">
                            <div class="bg-preview nature1-preview"></div>
                            <span>晨露之森</span>
                        </div>
                        <div class="bg-option-item" data-bg="nature2">
                            <div class="bg-preview nature2-preview"></div>
                            <span>沧浪之水</span>
                        </div>
                        <div class="bg-option-item" data-bg="nature3">
                            <div class="bg-preview nature3-preview"></div>
                            <span>自然之廊</span>
                        </div>
                        <div class="bg-option-item" data-bg="custom" id="custom-bg-btn">
                            <div class="bg-preview custom-preview">
                                <i class="fas fa-upload"></i>
                            </div>
                            <span>精骛八极<br>心游万仞</span>
                        </div>
                    </div>
                    <input type="file" id="bg-upload" accept="image/*" style="display: none;">
                </div>
                
                <!-- 控制台 -->
                <div class="settings-section">
                    <h4>控制台</h4>
                    
                    <!-- 视觉防疲劳效果 -->
                    <div class="effect-control">
                        <div class="effect-header">
                            <span class="effect-name">视觉防疲劳效果</span>
                            <label class="switch">
                                <input type="checkbox" id="mouse-trail-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="effect-description">
                            <small>低速：白色拖尾 | 高速：彩色拖尾</small>
                        </div>
                    </div>
                    
                    <!-- 屏幕保护功能 -->
                    <div class="effect-control">
                        <div class="effect-header">
                            <span class="effect-name">屏幕保护</span>
                            <label class="switch">
                                <input type="checkbox" id="screensaver-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="effect-description">
                            <small>闲置时自动启动屏幕保护</small>
                        </div>
                        <!-- 时间设置滑块（默认隐藏） -->
                        <div class="slider-control screensaver-time-control" id="screensaver-time-control" style="display: none; margin-top: 15px;">
                            <div class="time-input-row">
                                <span class="slider-label">触发时间:</span>
                                <input type="number" id="screensaver-time-input" min="10" max="900" value="60" class="time-input">
                                <span class="slider-unit">秒</span>
                            </div>
                            <input type="range" id="screensaver-time-slider" min="10" max="900" value="60" class="range-slider">
                            <div class="slider-range">
                                <span>10秒</span>
                                <span>900秒</span>
                            </div>
                        </div>
                    </div>
                    
                </div>
                
                <!-- AI语音设置 -->
                <div class="settings-section">
                    <h4>AI语音设置</h4>
                    
                    <!-- 语音输入功能 -->
                    <div class="effect-control">
                        <div class="effect-header">
                            <div class="effect-title-group">
                                <span class="effect-name">语音输入功能</span>
                                <span class="effect-badge">一键常开</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="doubao-voice-input-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="effect-description">
                            <small>开启后，语音输入将持续监听，无需手动点击；关闭后，语音输入将在10秒无操作后自动关闭</small>
                        </div>
                        <!-- 快捷键设置 -->
                        <div class="shortcut-control" id="voice-input-shortcut-control">
                            <div class="shortcut-label">设置快捷键:</div>
                            <div class="shortcut-input-group">
                                <input type="text" id="voice-input-shortcut" class="shortcut-input" placeholder="点击设置快捷键" readonly>
                                <button class="shortcut-clear-btn" id="clear-voice-shortcut" title="清除快捷键">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="shortcut-hint">按组合键设置，推荐Ctrl+Shift+V</div>
                        </div>
                    </div>
                    
                    <!-- 朗读模式 -->
                    <div class="effect-control">
                        <div class="effect-header">
                            <div class="effect-title-group">
                                <span class="effect-name">朗读模式</span>
                                <span class="effect-badge">一键常开</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="doubao-tts-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="effect-description">
                            <small>开启后，AI回复可用快捷键定义朗读状态</small>
                        </div>
                        <!-- 快捷键设置 -->
                        <div class="shortcut-control" id="tts-shortcut-control">
                            <div class="shortcut-label">设置快捷键:</div>
                            <div class="shortcut-input-group">
                                <input type="text" id="tts-shortcut" class="shortcut-input" placeholder="点击设置快捷键" readonly>
                                <button class="shortcut-clear-btn" id="clear-tts-shortcut" title="清除快捷键">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="shortcut-hint">按组合键设置，推荐Ctrl+Shift+C</div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    
    <!-- 遮罩层点击关闭 -->
    <div class="modal-backdrop" id="modal-backdrop"></div>
    

    <!-- 主容器 -->
    <div class="container">
        <!-- 头部时间显示区域 -->
        <header class="header">
            <div class="date-time">
                <h1 id="current-time">00:00:00</h1>
                <p id="current-date">0000年1月1日 星期一</p>
                <p id="current-location" class="location-info">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="location-text">正在获取位置...</span>
                </p>
            </div>
            
            <!-- 自定义诗句模块 -->
            <div class="poem-section">
                <div class="poem-display" id="poem-display">
                    <p class="poem-text" id="poem-text" style="font-family: SimSun, 宋体, serif !important;">点击编辑您的专属诗句...</p>
                </div>
                <div class="poem-input-area" id="poem-input-area" style="display: none;">
                    <textarea id="poem-input" placeholder="请输入您的诗句..." maxlength="100"></textarea>
                    <div class="poem-actions">
                        <button id="poem-submit" class="poem-btn">保存</button>
                        <button id="poem-cancel" class="poem-btn cancel">取消</button>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="weather-info">
                    <div class="weather-icon">
                        <i id="weather-icon" class="fas fa-sun"></i>
                    </div>
                    <div class="weather-details">
                        <span id="temperature" class="temp">--°C</span>
                        <span id="weather-description" class="weather-desc">--</span>
                        <span id="city-name" class="location">位置未获取</span>
                        <span id="district-name" class="district">--</span>
                    </div>
                </div>
                <!-- 跳转按钮 -->
                <a href="https://leo-sxd.github.io/favorite_file.github.io/" target="_blank" class="jump-btn" title="跳转到收藏网站">
                    <i class="fas fa-external-link-alt"></i>
                    <span>收藏网站</span>
                </a>
            </div>
        </header>
        
        <!-- 豆包AI板块 - 居中对话式布局 -->
        <section class="doubao-section">
            <div class="doubao-chat-container">
                <!-- 顶部标题区 -->
                <div class="doubao-header">
                    <h1 class="doubao-title">瀚海天行</h1>
                    <div class="doubao-status">
                        <span class="status-dot" id="doubao-status-dot"></span>
                        <span class="status-text" id="doubao-status-text">准备就绪</span>
                    </div>
                </div>
                
                <!-- 消息展示区 -->
                <div class="doubao-messages" id="doubao-messages">
                    <div class="message doubao-welcome">
                        <div class="welcome-avatar">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="welcome-text">
                            <p>我是你的AI助手，可以帮你写作、翻译、编程、解答问题...</p>
                        </div>
                    </div>
                </div>
                
                <!-- 功能快捷按钮 -->
                <div class="doubao-features">
                    <button class="feature-btn" data-prompt="帮我写一篇文章">
                        <i class="fas fa-pen"></i> 帮我写作
                    </button>
                    <button class="feature-btn" data-prompt="翻译这段话">
                        <i class="fas fa-language"></i> 翻译
                    </button>
                    <button class="feature-btn" data-prompt="帮我写一段代码">
                        <i class="fas fa-code"></i> 编程
                    </button>
                    <button class="feature-btn" data-prompt="深入研究这个问题">
                        <i class="fas fa-search"></i> 深入研究
                    </button>
                </div>
                
                <!-- 输入区域 -->
                <div class="doubao-input-wrapper">
                    <div class="doubao-input-box">
                        <input type="text" id="doubao-input" placeholder="输入消息或 / 选择技能...">
                        <div class="input-actions">
                            <input type="file" id="doubao-image-input" accept="image/*" style="display: none;">
                            <button class="action-btn" id="doubao-attach" title="上传图片">
                                <i class="fas fa-image"></i>
                            </button>
                            <button class="action-btn" id="doubao-deep-think" title="深度思考">
                                <i class="fas fa-brain"></i> 深度思考
                            </button>
                            <button class="action-btn" id="doubao-voice-input" title="语音输入">
                                <i class="fas fa-microphone"></i>
                            </button>
                        </div>
                    </div>
                    <button id="doubao-send" class="doubao-send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <!-- 图片预览区域 -->
                <div class="image-preview-area" id="image-preview-area" style="display: none;">
                    <div class="image-preview">
                        <img id="preview-img" src="" alt="预览">
                        <button class="remove-image-btn" id="remove-image-btn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <!-- API密钥设置（可折叠） -->
                <div class="doubao-api-settings">
                    <button class="api-toggle-btn" id="api-toggle-btn">
                        <i class="fas fa-key"></i> API设置
                    </button>
                    <div class="api-panel" id="api-panel" style="display: none;">
                        <div class="api-input-group">
                            <input type="password" id="doubao-api-key" placeholder="输入豆包API密钥">
                            <button id="save-doubao-api-key" class="small-btn">保存</button>
                        </div>
                        <p class="api-hint">密钥仅保存在本地，请前往 <a href="https://www.volcengine.com/product/doubao" target="_blank">豆包官网</a> 获取</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 左侧：待办事项 -->
            <section class="todo-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> 待办事项</h2>
                    <button id="add-todo-btn" class="add-btn" title="添加待办事项">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="todo-container">
                    <!-- 待办事项输入区域 -->
                    <div class="todo-input-area" id="todo-input-area">
                        <div class="todo-form">
                            <input type="text" id="todo-input" placeholder="添加新的待办事项...">
                            <div class="time-selection">
                                <div class="time-input-group">
                                    <label for="start-time"><i class="far fa-clock"></i> 开始时间</label>
                                    <input type="datetime-local" id="start-time">
                                </div>
                                <div class="time-input-group">
                                    <label for="end-time"><i class="fas fa-flag-checkered"></i> 截止时间</label>
                                    <input type="datetime-local" id="end-time">
                                </div>
                            </div>
                            <div class="todo-form-buttons">
                                <button id="todo-submit" class="submit-btn">添加</button>
                                <button id="todo-cancel" class="cancel-btn">取消</button>
                            </div>
                        </div>
                    </div>
                    <div class="todo-filter">
                        <button class="filter-btn active" data-filter="all">全部 (0)</button>
                        <button class="filter-btn" data-filter="pending">未完成(0)</button>
                        <button class="filter-btn" data-filter="completed">已完成(0)</button>
                        <button class="filter-btn" data-filter="urgent">紧急(0)</button>
                    </div>
                    <ul id="todo-list">
                        <!-- 待办事项将通过JS动态添加 -->
                    </ul>
                </div>
            </section>
            
            <!-- 中间：地图区域 -->
            <section class="map-section">
                <div class="section-header">
                    <h2><i class="fas fa-map-marked-alt"></i> 高德地图</h2>
                    <div class="map-controls">
                        <button id="locate-me" class="map-btn" title="定位我的位置">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                        <button id="traffic-toggle" class="map-btn" title="实时路况">
                            <i class="fas fa-car"></i>
                        </button>
                    </div>
                </div>
                <div class="map-container">
                    <div id="map"></div>
                    <div class="map-search-box">
                        <input type="text" id="map-search-input" placeholder="搜索地点...">
                        <button id="map-search-btn"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </section>
            
            <!-- 右侧：智能助手 -->
            <section class="assistant-section">
                <div class="section-header">
                    <h2><i class="fas fa-robot"></i> DeepSeek</h2>
                    <div class="assistant-status">
                        <span class="status-dot" id="assistant-status-dot"></span>
                        <span class="status-text" id="assistant-status-text">离线</span>
                    </div>
                </div>
                <div class="assistant-container">
                    <!-- API密钥输入区域 -->
                    <div class="api-key-section">
                        <div class="api-input-group">
                            <input type="password" id="deepseek-api-key" placeholder="输入Deepseek API密钥" value="">
                            <button id="save-api-key" class="small-btn">保存</button>
                        </div>
                        <div class="api-hint">
                            <small>密钥仅保存在本地，请前往 <a href="https://platform.deepseek.com/" target="_blank">Deepseek官网</a> 获取</small>
                        </div>
                    </div>
                    
                    <div class="assistant-messages" id="assistant-messages">
                        <div class="message assistant-message">
                            <div class="avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="content">
                                <p>您好！我是Deepseek AI助手，请输入API密钥开始对话。</p>
                            </div>
                        </div>
                    </div>
                    <div class="assistant-input-area">
                        <input type="text" id="assistant-input" placeholder="输入您的问题...">
                        <button id="assistant-send" class="send-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </section>
        </main>
        
<!-- Bing搜索引擎面板 -->
        <section class="bing-section">
            <div class="section-header">
                <h2><i class="fab fa-microsoft"></i> Bing 搜索</h2>
            </div>
            <div class="bing-container">
                <iframe src="https://www.bing.com/search?q=Bing搜索" width="100%" height="500"></iframe>
            </div>
        </section>
        
        <!-- 底部状态栏 -->
        <footer class="footer">
            <p>简约多功能面板 &copy; 2026 | 最后更新 <span id="last-update-time"></span></p>
        </footer>
    </div>
    
        <!-- 移动端/电脑版视图切换按钮 -->
    <div class="view-switch-container" id="view-switch-container">
        <button class="view-switch-btn" id="view-switch-btn" title="切换视图模式">
            <i class="fas fa-desktop"></i>
            <span>电脑版</span>
        </button>
    </div>
    
    <!-- 整合后的JavaScript文件 -->
    <script src="/Table_edge/script.js"></script>
</body>
</html>